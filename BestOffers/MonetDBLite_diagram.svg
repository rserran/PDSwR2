<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: rquery_optree Pages: 1 -->
<svg width="228pt" height="357pt"
 viewBox="0.00 0.00 227.82 357.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 353.2)">
<title>rquery_optree</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-353.2 223.8232,-353.2 223.8232,4 -4,4"/>
<!-- node_1 -->
<g id="node1" class="node">
<title>node_1</title>
<polygon fill="#66cd00" stroke="#000000" points="191.0619,-349.2 188.0619,-353.2 167.0619,-353.2 164.0619,-349.2 28.7613,-349.2 28.7613,-257.2 191.0619,-257.2 191.0619,-349.2"/>
<text text-anchor="start" x="36.8365" y="-332.6" font-family="Times,serif" font-size="14.00" fill="#000000">table(offers; </text>
<text text-anchor="start" x="36.8365" y="-315.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;user_name,</text>
<text text-anchor="start" x="36.8365" y="-299" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;product,</text>
<text text-anchor="start" x="36.8365" y="-282.2" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;discount,</text>
<text text-anchor="start" x="36.8365" y="-265.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;predicted_offer_affinity)</text>
</g>
<!-- node_2 -->
<g id="node2" class="node">
<title>node_2</title>
<polygon fill="#cdc673" stroke="#000000" points="219.7349,-222.5003 .0883,-222.5003 .0883,-147.0997 219.7349,-147.0997 219.7349,-222.5003"/>
<text text-anchor="start" x="8" y="-205.8" font-family="Times,serif" font-size="14.00" fill="#000000">extend(.,</text>
<text text-anchor="start" x="8" y="-189" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;simple_rank := rank(),</text>
<text text-anchor="start" x="8" y="-172.2" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;p= user_name,</text>
<text text-anchor="start" x="8" y="-155.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;o= predicted_offer_affinity DESC)</text>
</g>
<!-- node_1&#45;&gt;node_2 -->
<g id="edge1" class="edge">
<title>node_1&#45;&gt;node_2</title>
<path fill="none" stroke="#000000" d="M109.9116,-257.0844C109.9116,-249.0492 109.9116,-240.6755 109.9116,-232.5962"/>
<polygon fill="#000000" stroke="#000000" points="113.4117,-232.5676 109.9116,-222.5677 106.4117,-232.5677 113.4117,-232.5676"/>
<text text-anchor="middle" x="111.6616" y="-235.6" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="113.4116,-231.4 109.9116,-231.4 109.9116,-239.8531 "/>
</g>
<!-- node_3 -->
<g id="node3" class="node">
<title>node_3</title>
<polygon fill="#cdc673" stroke="#000000" points="175.0677,-112.2019 44.7555,-112.2019 44.7555,-70.9981 175.0677,-70.9981 175.0677,-112.2019"/>
<text text-anchor="start" x="52.8336" y="-95.8" font-family="Times,serif" font-size="14.00" fill="#000000">select_rows(.,</text>
<text text-anchor="start" x="52.8336" y="-79" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;simple_rank &lt;= 2)</text>
</g>
<!-- node_2&#45;&gt;node_3 -->
<g id="edge2" class="edge">
<title>node_2&#45;&gt;node_3</title>
<path fill="none" stroke="#000000" d="M109.9116,-147.1606C109.9116,-138.9637 109.9116,-130.3824 109.9116,-122.4834"/>
<polygon fill="#000000" stroke="#000000" points="113.4117,-122.2353 109.9116,-112.2353 106.4117,-122.2353 113.4117,-122.2353"/>
<text text-anchor="middle" x="111.6616" y="-125.6" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="113.4116,-121.4 109.9116,-121.4 109.9116,-129.6709 "/>
</g>
<!-- node_4 -->
<g id="node4" class="node">
<title>node_4</title>
<polygon fill="#cdc673" stroke="#000000" points="218.1145,-36 1.7087,-36 1.7087,0 218.1145,0 218.1145,-36"/>
<text text-anchor="start" x="9.8102" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">orderby(., user_name, simple_rank)</text>
</g>
<!-- node_3&#45;&gt;node_4 -->
<g id="edge3" class="edge">
<title>node_3&#45;&gt;node_4</title>
<path fill="none" stroke="#000000" d="M109.9116,-70.7061C109.9116,-63.1413 109.9116,-54.4661 109.9116,-46.3668"/>
<polygon fill="#000000" stroke="#000000" points="113.4117,-46.1932 109.9116,-36.1933 106.4117,-46.1933 113.4117,-46.1932"/>
<text text-anchor="middle" x="111.6616" y="-49.2" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="113.4116,-45 109.9116,-45 109.9116,-53.2997 "/>
</g>
</g>
</svg>

